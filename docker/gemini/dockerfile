# Use a Node base image
FROM node:22-bullseye

# Install Python and build essentials for RL libraries
RUN apt-get update && apt-get install -y \
    python3 python3-pip python3-dev \
    git build-essential \
    && rm -rf /var/lib/apt/lists/*

# Install Gemini CLI globally inside the container
RUN npm install -g @google/gemini-cli

# Set the working directory
WORKDIR /app

# Copy your requirements (if you have them) to pre-install RL dependencies
# COPY requirements.txt .
# RUN pip3 install --no-cache-dir -r requirements.txt

# Entry point
CMD ["bash"]

# Command to run container
# docker run -it --rm \
#   --name gemini-agent \
#   -v /mnt/c/Users/User/Documents/Code/gym-continuousDoubleAuction_agent_based_0:/app \
#   -v ~/.gemini:/root/.gemini \
#   -v /var/run/docker.sock:/var/run/docker.sock \
#   -w /app \
#   my-gemini-agent bash